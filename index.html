<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Atique Moin - Portfolio</title>
  <style>
    /* Your existing styles here (navbar, sidebar, content, etc.) */
    body {
      font-family: Arial, sans-serif;
      margin: 0;
      padding: 0;
      background: #f4f4f4;
    }
    .navbar {
      background: #222;
      padding: 12px 0;
      text-align: center;
      position: fixed;
      width: 100%;
      top: 0;
      left: 0;
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.15);
      z-index: 1000;
    }
    .navbar a {
      color: #f4f4f4;
      margin: 0 15px;
      text-decoration: none;
      font-size: 17px;
      padding: 8px 12px;
      border-radius: 5px;
      transition: background 0.3s ease, color 0.3s ease;
      cursor: pointer;
    }
    .navbar a:hover, .navbar a.active {
      background: #f4f4f4;
      color: #222;
    }
    .sidebar {
      width: 320px;
      background: white;
      padding: 20px;
      position: fixed;
      height: 100%;
      top: 60px;
      overflow-y: auto;
      box-shadow: 2px 0 5px rgba(0, 0, 0, 0.1);
    }
    .content {
      margin-left: 340px;
      padding: 30px;
      margin-top: 90px;
      max-width: 780px;
      line-height: 1.6;
      background: white;
      min-height: 600px;
      box-shadow: 0 0 10px rgba(0,0,0,0.05);
      border-radius: 8px;
    }
    /* other styles as needed */
  </style>
</head>
<body>

  <div class="navbar">
    <a id="nav-home" href="#" class="active">Home</a>
    <a id="nav-research" href="#">Research</a>
    <a href="https://scholar.google.com/citations?user=xib6DxkAAAAJ&hl=en" target="_blank">Publications</a>
    <a href="files/Atique_Moin_Resume.pdf" target="_blank">Resume</a>
  </div>

  <div class="sidebar">
    <!-- Your sidebar content here, unchanged -->
    <img src="images/MdMoinUddinAtique_Photo.jpg" alt="Profile Picture" class="profile-pic" style="width:130px; border-radius:50%; margin-bottom:10px;">
    <p class="name" style="font-size:22px; font-weight:bold; margin-top:10px;">Atique Moin</p>
    <p class="title" style="font-size:15px; color:gray; margin-bottom:20px;">PhD in Neuroscience</p>
    <p class="title" style="font-size:15px; color:gray; margin-bottom:20px;">Data science | ML | Wearable | Sensors | Neuroengineer | DSP | Biomedical Engineer</p>
    <div class="links" style="font-size:15px;">
      <a href="mailto:moindu44@gmail.com" style="display:flex; align-items:center; color:black; text-decoration:none; margin-bottom:6px;">
        <img src="icons/gmail.png" alt="Email Icon" style="width:20px; height:20px; margin-right:8px;">Email: moindu44@gmail.com
      </a>
      <a href="https://scholar.google.com/citations?user=xib6DxkAAAAJ&hl=en" target="_blank" style="display:flex; align-items:center; color:black; text-decoration:none; margin-bottom:6px;">
        <img src="icons/Scholar.png" alt="Google Scholar Icon" style="width:20px; height:20px; margin-right:8px;">Google Scholar
      </a>
      <a href="https://www.linkedin.com/in/moinatique/" target="_blank" style="display:flex; align-items:center; color:black; text-decoration:none; margin-bottom:6px;">
        <img src="icons/Linkedin.jpg" alt="LinkedIn Icon" style="width:20px; height:20px; margin-right:8px;">LinkedIn
      </a>
      <a href="https://github.com/moinatique" target="_blank" style="display:flex; align-items:center; color:black; text-decoration:none; margin-bottom:6px;">
        <img src="icons/github.png" alt="GitHub Icon" style="width:20px; height:20px; margin-right:8px;">GitHub
      </a>
      <a href="https://www.youtube.com/@moinatique" target="_blank" style="display:flex; align-items:center; color:black; text-decoration:none;">
        <img src="icons/youtube.png" alt="YouTube Icon" style="width:20px; height:20px; margin-right:8px;">YouTube
      </a>
    </div>

    <div style="margin-top: 40px;">
      <h3 style="font-size: 16px; margin-bottom: 10px; border-bottom: 1px solid #ccc; padding-bottom: 5px;">Affiliations</h3>
      <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 12px; justify-items: center;">
        <img src="icons/sra.png" alt="SRA" style="height: 60px;">
        <img src="icons/abbott.png" alt="Abbott" style="height: 60px;">
        <img src="icons/bcm.png" alt="BCM" style="height: 60px;">
        <img src="icons/uh.png" alt="UH" style="height: 60px;">
        <img src="icons/du.png" alt="DU" style="height: 60px;">
      </div>
    </div>
  </div>

  <div class="content" id="content">
    Loading content...
  </div>

  <script>
    // Load the given URL content into the #content div
    function loadContent(url, navId) {
      fetch(url)
        .then(response => {
          if (!response.ok) throw new Error('Network error');
          return response.text();
        })
        .then(html => {
          document.getElementById('content').innerHTML = html;

          // Run any scripts inside loaded content (like toggleContent)
          const scripts = document.getElementById('content').querySelectorAll('script');
          scripts.forEach(script => {
            const newScript = document.createElement('script');
            if (script.src) {
              newScript.src = script.src;
            } else {
              newScript.textContent = script.textContent;
            }
            document.body.appendChild(newScript);
            script.remove();
          });

          setActiveNav(navId);
        })
        .catch(err => {
          document.getElementById('content').innerHTML = '<p style="color:red;">Failed to load content.</p>';
          console.error(err);
        });
    }

    function setActiveNav(navId) {
      document.querySelectorAll('.navbar a').forEach(link => {
        link.classList.remove('active');
      });
      if(navId) {
        document.getElementById(navId).classList.add('active');
      }
    }

    // Setup event listeners
    document.getElementById('nav-home').addEventListener('click', e => {
      e.preventDefault();
      loadContent('data/intro.html', 'nav-home');
      history.pushState({page:'home'}, 'Home', '#home');
    });

    document.getElementById('nav-research').addEventListener('click', e => {
      e.preventDefault();
      loadContent('data/research.html', 'nav-research');
      history.pushState({page:'research'}, 'Research', '#research');
    });

    // On initial load, load intro content
    window.addEventListener('DOMContentLoaded', () => {
      if(location.hash === '#research') {
        loadContent('data/research.html', 'nav-research');
      } else {
        loadContent('data/intro.html', 'nav-home');
      }
    });

    // Handle back/forward navigation
    window.addEventListener('popstate', event => {
      if(event.state) {
        if(event.state.page === 'research') {
          loadContent('data/research.html', 'nav-research');
        } else {
          loadContent('data/intro.html', 'nav-home');
        }
      }
    });
  </script>

</body>
</html>
